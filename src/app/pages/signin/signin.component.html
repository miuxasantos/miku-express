<div class="signin-page">
  <p-toast></p-toast>

  <section class="intro">
    <div class="intro__text">
      <h1>Entrar na Miku Express</h1>
      <p>
        Conecte-se ao seu painel para acompanhar entregas, criar novos envios e receber notificações dos seus pedidos.
      </p>
    </div>
  </section>

  <section class="form-section">
    <p-card class="form-card">
      <ng-template pTemplate="header">
        <h2>Faça login</h2>
        <span>Acesse com seu e-mail cadastrado</span>
      </ng-template>

      <form #signinForm="ngForm" (ngSubmit)="login(signinForm)" novalidate>
        <div class="input-group" [class.invalid]="emailCtrl.invalid && (emailCtrl.dirty || emailCtrl.touched || signinForm.submitted)">
          <label for="email">E-mail *</label>
          <input
            id="email"
            type="email"
            name="email"
            pInputText
            required
            autocomplete="email"
            placeholder="nome@mikuexpress.com"
            [(ngModel)]="credentials.email"
            #emailCtrl="ngModel"
          />
          <small *ngIf="emailCtrl.errors?.['required'] && (emailCtrl.dirty || emailCtrl.touched || signinForm.submitted)">
            Informe seu e-mail de acesso.
          </small>
          <small *ngIf="emailCtrl.errors?.['email'] && (emailCtrl.dirty || emailCtrl.touched || signinForm.submitted)">
            Digite um e-mail válido.
          </small>
        </div>

        <div class="input-group" [class.invalid]="passwordCtrl.invalid && (passwordCtrl.dirty || passwordCtrl.touched || signinForm.submitted)">
          <label for="password">Senha *</label>
          <p-password
            id="password"
            name="password"
            required
            feedback="false"
            toggleMask="true"
            [inputStyle]="{ 'font-size': '1rem' }"
            placeholder="Digite sua senha"
            [(ngModel)]="credentials.password"
            #passwordCtrl="ngModel"
          ></p-password>
          <small *ngIf="passwordCtrl.invalid && (passwordCtrl.dirty || passwordCtrl.touched || signinForm.submitted)">
            Informe a senha cadastrada.
          </small>
        </div>

        <div class="form-actions">
          <button
            type="submit"
            pButton
            class="submit-button"
            label="Entrar"
            icon="pi pi-sign-in"
            [loading]="isSubmitting"
            [disabled]="isSubmitting"
          ></button>
        </div>
      </form>

      <p-divider align="center">
        <span>Ou</span>
      </p-divider>

      <div class="links">
        <span>Ainda não tem conta?</span>
        <a routerLink="/signup">Ir para o Sing Up</a>
      </div>
    </p-card>

    <div class="side-info">
      <img src="assets/neru.png" />
    </div>
  </section>
</div>