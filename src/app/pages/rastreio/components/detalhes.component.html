<div class="detalhes-container">
  <p-card header="Detalhes do Pacote" class="detalhes-card">
    <div class="voltar-button">
      <p-button 
        label="Voltar" 
        icon="pi pi-arrow-left"
        (onClick)="voltar.emit()"
        class="p-button-secondary"
      ></p-button>
    </div>

    <!-- Informa√ß√µes do Pedido -->
    <div *ngIf="order" class="order-info">
      <div class="info-header">
        <h2>Pacote: {{ order.trackingCode }}</h2>
        <span [class]="'status status-' + (getCurrentStatus().toLowerCase() || 'pendente')">
          {{ getStatusText(getCurrentStatus()) }}
        </span>
      </div>

      <div class="info-grid">
        <div class="info-item">
          <strong>ID:</strong>
          <span>#{{ order.id }}</span>
        </div>
        <div class="info-item">
          <strong>Origem:</strong>
          <span>{{ order.source }}</span>
        </div>
        <div class="info-item">
          <strong>Destino:</strong>
          <span>{{ order.destination }}</span>
        </div>
        <div class="info-item">
          <strong>Dist√¢ncia:</strong>
          <span>{{ order.distance }} km</span>
        </div>
        <div class="info-item">
          <strong>Pre√ßo:</strong>
          <span class="price">{{ order.price | currency:'BRL' }}</span>
        </div>
        <div class="info-item">
          <strong>Peso:</strong>
          <span>{{ order.weightInKg }} kg</span>
        </div>
        <div class="info-item">
          <strong>Data de Cria√ß√£o:</strong>
          <span>{{ formatDate(order.dateCreate) }}</span>
        </div>
      </div>
    </div>

    <!-- Timeline de Atualiza√ß√µes -->
    <div *ngIf="order.statusUpdates.length" class="timeline-section">
      <h3>Hist√≥rico de Atualiza√ß√µes</h3>
      <p-timeline [value]="sortedStatusUpdates">
        <ng-template pTemplate="content" let-update>
          <p-card 
            [header]="getStatusText(update.status)" 
            class="timeline-card"
          >
            <p class="update-description">{{ getStatusDescription(update.status) }}</p>
            <small class="update-location">
              üìç De: {{ update.source }} ‚Üí Para: {{ update.destination }}
            </small>
          </p-card>
        </ng-template>
      </p-timeline>
    </div>

    <!-- Mensagem se n√£o houver atualiza√ß√µes -->
    <div *ngIf="order && (!order.statusUpdates || order.statusUpdates.length === 0)" class="no-updates">
      <p>Nenhuma atualiza√ß√£o de status dispon√≠vel.</p>
    </div>
  </p-card>
</div>